(this["webpackJsonpproject-yule"]=this["webpackJsonpproject-yule"]||[]).push([[0],{183:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(55),o=t.n(c),l=(t(66),t(1)),s=(t(67),t(29)),u=t.n(s),i=t(56),m=t(3),d={salmon:"rgb(255, 132, 105)",green:"rgb(30, 187, 108)",yellow:"rgb(255,205,18)",turquoise:"rgb(54, 174, 201)",pink:"rgb(255, 99, 216)",purple:"rgb(160, 58, 211)",blue:"rgb(30, 119, 239)",orange:"rgb(252, 130, 15)"},b={"CJ & Jeff":"rgb(255, 132, 105)",Thom:"rgb(30, 187, 108)",Jonny:"rgb(255,205,18)",Jeff:"rgb(54, 174, 201)",Tash:"rgb(255, 99, 216)",Tom:"rgb(160, 58, 211)",Rob:"rgb(30, 119, 239)",James:"rgb(252, 130, 15)",draw:"rgb(255,205,18)"},p=function(e){var a=Object.keys(e.scores).map((function(e){return"draw"===e?"Draw":"".concat(e," Wins")})),t=Object.values(e.scores),r=Object.keys(e.scores).map((function(e){return b[e]})),c={labels:a,datasets:[{data:t,backgroundColor:r,hoverBackgroundColor:r,borderColor:"black",borderWidth:1}]},o=Object.values(e.scores).reduce((function(e,a){return e+a})),s=Object.entries(e.scores).map((function(e){var a=Object(l.a)(e,2),t=a[0],r=a[1];return"draw"===t?"".concat(Math.round(r/o*100),"% of games ended in a draw!"):"".concat(t," has won ").concat(Math.round(r/o*100),"% of games")}));return n.a.createElement("div",{className:"pie-grid"},n.a.createElement(m.Doughnut,{data:c,legend:{display:!0,position:"right",fullWidth:!1,reverse:!1,labels:{fontColor:"greysmoke"}}}),n.a.createElement("div",null,s.map((function(e,a){return n.a.createElement("p",{className:"win-stats",key:a},e)}))))},f=t(57),g=t(6),y=function(e){return e.reduce((function(e,a){return a.players.forEach((function(a){var t=a.scores.find((function(e){return"total"===e.category})).value;e[a.name]=e[a.name]?[].concat(Object(g.a)(e[a.name]),[t]):[t]})),e}),{})},v=function(e){var a=e.reduce((function(e,a){return e+a}))/e.length;return Number(a.toFixed(2))},E=function(e){return n.a.createElement("div",{className:"pie-container container"},n.a.createElement("header",{className:"header"},"Win Lose Draw!"),n.a.createElement(p,{scores:(a=e.tashVsThom,a.reduce((function(e,a){var t=a.players.map((function(e){return{score:e.scores.find((function(e){return"total"===e.category})).value,player:e.name}})),r=t.map((function(e){return e.score})),n=Math.max.apply(Math,Object(g.a)(r));return r.every((function(e){return e===r[0]}))?e.draw?e.draw+=1:e.draw=1:t.forEach((function(a){a.score===n&&(e[a.player]?e[a.player]+=1:e[a.player]=1)})),e}),{})),backgroundColor:Object.values(d)}));var a},h=function(e){return e.reduce((function(e,a){return a.players.forEach((function(a){!e.includes(a.name)&&e.push(a.name)})),e}),[])},O=/[0-3]\d[\/|\-][0-1]\d[\/|\-][1-2]\d\d\d/,j=function(e){var a=e.split(new RegExp("/|-")),t=Object(l.a)(a,3),r=t[0],n=t[1],c=t[2];return new Date(Number(c),Number(n)-1,Number(r))},N=function(e){var a=Object(r.useState)(e.twoPlayer),t=Object(l.a)(a,2),c=t[0],o=t[1],s=h(c),u=y(c),i=s.map((function(e,a){return{label:e,backgroundColor:b[e],borderColor:"black",borderWidth:.5,hoverBackgroundColor:"rgb(54, 174, 201)",hoverBorderColor:"black",data:u[e]}})),d={labels:c.map((function(e){return j(e.date).toDateString()})),datasets:i,options:{scales:{xAxes:[{type:"time"}]}}};return n.a.createElement("div",{className:"bar-container container"},n.a.createElement("header",{className:"header"},"Scores Over Time"),n.a.createElement("div",{className:"button-container"},n.a.createElement("button",{className:"agricola-button",onClick:function(){return o(e.twoPlayer)}},"Two Player"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return o(e.multiplayer)}},"Multiplayer"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return o(e.games)}},"All Games")),n.a.createElement(m.Bar,{data:d,options:{maintainAspectRatio:!1}}))},k=function(e){var a=Object(r.useState)(e.games),t=Object(l.a)(a,2),c=t[0],o=t[1],s=h(c).sort(),u=function(e,a){return e.reduce((function(e,a){return a.players.forEach((function(a){var t,r=Object(f.a)(a.scores);try{for(r.s();!(t=r.n()).done;){var n=t.value;e[a.name][n.category]?e[a.name][n.category].push(n.value):e[a.name][n.category]=[n.value]}}catch(c){r.e(c)}finally{r.f()}})),e}),a)}(c,function(e){return e.reduce((function(e,a){return e[a]={fields:[],pastures:[],grain:[],vegetables:[],sheep:[],"wild boar":[],cattle:[],"unused spaces":[],"fenced stables":[],"clay rooms":[],"stone rooms":[],"family members":[],"points for cards":[],"bonus points":[],horses:[]},e}),{})}(s)),i=s.reduce((function(e,a){return e[a]={},e}),{});for(var d in u)for(var p in u[d])if(u[d][p].length>0){var g=u[d][p].reduce((function(e,a){return e+a}))/u[d][p].length;i[d][p]=g.toFixed(2)}var y=Object.keys(i.Thom),v=s.map((function(e,a){return{label:e,backgroundColor:b[e],borderColor:"black",borderWidth:.5,hoverBackgroundColor:b[e],hoverBorderColor:"black",data:(t=e,Object.entries(i[t]).filter((function(e){var a=Object(l.a)(e,2),t=a[0];return a[1],"total"!==t})).map((function(e){var a=Object(l.a)(e,2);return a[0],a[1]})))};var t})),E={labels:y.filter((function(e){return"total"!==e})),datasets:v};return n.a.createElement("div",{className:"category-container container"},n.a.createElement("header",{className:"header"},"Category Averages"),n.a.createElement("div",{className:"button-container"},n.a.createElement("button",{className:"agricola-button",onClick:function(){return o(e.twoPlayer)}},"Two Player"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return o(e.multiplayer)}},"Multiplayer"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return o(e.games)}},"All Games")),n.a.createElement(m.Bar,{data:E,legend:{display:!0,position:"top",fullWidth:!1,reverse:!1,labels:{fontColor:"greysmoke"}}}))},C=function(e){var a={name:"",score:0},t={name:"",score:100},r=0,c=0;for(var o in e.totals){var l=Math.max.apply(Math,Object(g.a)(e.totals[o])),s=Math.min.apply(Math,Object(g.a)(e.totals[o]));l>a.score&&(a.name=o,a.score=l),s<t.score&&(t.name=o,t.score=s),r+=e.totals[o].reduce((function(e,a){return e+a})),c+=e.totals[o].length}var u=r/c;return n.a.createElement("div",{className:"stats-container container"},n.a.createElement("header",{className:"header stats-header"},"Some stats from our Agricola Games"),n.a.createElement("p",null,"Total Games Recorded:",n.a.createElement("span",{className:"stat-text"}," ",e.allGames.length)),n.a.createElement("p",null,"Of those games,",n.a.createElement("span",{className:"stat-text"}," ",e.tashVsThom.length)," were 2 player"),n.a.createElement("p",null,"And ",n.a.createElement("span",{className:"stat-text"}," ",e.multiplayer.length)," were multiplayer."),n.a.createElement("p",null,"The Highest score from all games was",n.a.createElement("span",{className:"stat-text"}," ",a.score)," scored by the indefatigable",n.a.createElement("span",{className:"stat-text"}," ",a.name),"!"),n.a.createElement("p",null,"And the lowest score of all time was",n.a.createElement("span",{className:"stat-text"}," ",t.score)," scored by the unstoppable",n.a.createElement("span",{className:"stat-text"}," ",t.name),"!"),n.a.createElement("p",null,"The average score across all games is as respectable",n.a.createElement("span",{className:"stat-text"}," ",u.toFixed(2))))},x=function(e){var a=Object(r.useState)(e.multiplayer),t=Object(l.a)(a,2),c=t[0],o=t[1],s=function(e){return Object.keys(e).reduce((function(a,t){return a[t]=v(e[t]),a}),{})}(y(c)),u={datasets:[{data:Object.values(s),backgroundColor:Object.keys(s).map((function(e){return b[e]})),label:"",borderColor:"black",borderWidth:1}],labels:Object.keys(s)};return n.a.createElement("div",{className:"radial-container container"},n.a.createElement("header",{className:"header"},"Average Game Scores"),n.a.createElement("div",{className:"button-container"},n.a.createElement("button",{className:"agricola-button",onClick:function(){return o(e.twoPlayer)}},"Two Player"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return o(e.multiplayer)}},"Mutliplayer"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return o(e.allGames)}},"All Games")),n.a.createElement(m.Polar,{data:u,legend:{display:!0,position:"right",fullWidth:!1,reverse:!1,labels:{fontColor:"greysmoke"}}}))},w=function(e,a){return a.reduce((function(a,t){return t.players.forEach((function(t){var r;a.push({y:t.scores.find((function(a){return a.category===e&&a.value.toFixed})).value,x:(r=t,r.scores.find((function(e){return"total"===e.category})).value)})})),a}),[])},S=function(e){var a=Object(r.useState)("family members"),t=Object(l.a)(a,2),c=t[0],o=t[1],s={responsive:!0,labels:w("family members",e.allGames).sort((function(e,a){return e.x>a.x?1:-1})).map((function(e){return e.y})),tooltips:{mode:"label"},elements:{line:{fill:!1}},scales:{xAxes:[{display:!0,gridLines:{display:!1},labels:w("family members",e.allGames).sort((function(e,a){return e.x>a.x?1:-1})).map((function(e){return e.x}))}],yAxes:[{type:"linear",display:!0,position:"left",id:"y-axis-1",gridLines:{display:!1},labels:{show:!0}},{type:"linear",display:!0,position:"right",id:"y-axis-2",gridLines:{display:!1},labels:{show:!0}}]}},u={datasets:[{label:"Score",type:"line",data:w(c,e.allGames).sort((function(e,a){return e.x>a.x?1:-1})).map((function(e){return e.x})),fill:!1,borderColor:d.purple,backgroundColor:d.pink,pointBorderColor:d.purple,pointBackgroundColor:d.pink,pointHoverBackgroundColor:d.orange,pointHoverBorderColor:d.orange,yAxisID:"y-axis-2"},{type:"bar",label:c,data:w(c,e.allGames).sort((function(e,a){return e.x>a.x?1:-1})).map((function(e){return e.y})),fill:!1,backgroundColor:d.yellow,borderColor:"black",hoverBackgroundColor:d.purple,hoverBorderColor:d.purple,yAxisID:"y-axis-1"}]};return n.a.createElement("div",{className:"scatter-container container"},n.a.createElement("header",{className:"header"},"Scattered Relationships"),n.a.createElement(m.Bar,{data:u,options:s}),n.a.createElement("div",{className:"button-container"},n.a.createElement("button",{className:"agricola-button",onClick:function(){return o("family members")}},"Family Members"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return o("bonus points")}},"Bonus Points"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return o("points for cards")}},"Points For Cards"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return o("stone rooms")}},"Stone Hut Rooms"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return o("unused spaces")}},"Unused Spaces")))},G=t(58),P=t.n(G),A=t(59),M=t.n(A),T=function(){var e=Object(r.useState)(),a=Object(l.a)(e,2),t=a[0],c=a[1],o=Object(r.useState)(),s=Object(l.a)(o,2),m=s[0],d=s[1],b=Object(r.useState)(),p=Object(l.a)(b,2),f=p[0],g=p[1],v=Object(r.useState)(),h=Object(l.a)(v,2),j=h[0],w=h[1],G=Object(r.useState)(!0),A=Object(l.a)(G,2),T=A[0],B=A[1];return Object(r.useEffect)((function(){(function(){var e=Object(i.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,P()("https://api.jsonbin.io/b/5ea01b9b2940c704e1dc9684/latest",{headers:{"secret-key":"$2b$10$tVk".concat("/rIX8TJ15Zm5Oghjz1.0zwMVyQyzIUggpp/cngra1xISpd9N/q")}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){c(e.agricolaGames),d(y(e.agricolaGames)),g(e.agricolaGames.filter((function(e){return 2===e.players.length}))),w(e.agricolaGames.filter((function(e){return e.players.length>2}))),B(!1)}))}),[]),T?n.a.createElement("div",null,"loading"):n.a.createElement("div",{className:"page-container"},n.a.createElement("div",{className:"page-header header"},n.a.createElement("div",{className:"image-container"},n.a.createElement("img",{src:M.a}))),n.a.createElement(C,{totals:m,tashVsThom:f,multiplayer:j,allGames:t}),n.a.createElement(E,{tashVsThom:f}),n.a.createElement(N,{games:t.filter((function(e){return e.date.match(O)})),twoPlayer:f.filter((function(e){return e.date.match(O)})),multiplayer:j.filter((function(e){return e.date.match(O)}))}),n.a.createElement(k,{games:t,twoPlayer:f,multiplayer:j}),n.a.createElement(x,{multiplayer:j,twoPlayer:f,allGames:t}),n.a.createElement(S,{allGames:t}))},B=t(12),F=t(19),W={name:"",scores:[{category:"fields",value:0},{category:"pastures",value:0},{category:"grain",value:0},{category:"vegetables",value:0},{category:"sheep",value:0},{category:"wild boar",value:0},{category:"cattle",value:0},{category:"unused spaces",value:0},{category:"fenced stables",value:0},{category:"clay rooms",value:0},{category:"stone rooms",value:0},{category:"family members",value:0},{category:"bonus points",value:0},{category:"points for cards",value:0}]},D={name:"",scores:[{category:"fields",value:0},{category:"pastures",value:0},{category:"grain",value:0},{category:"vegetables",value:0},{category:"sheep",value:0},{category:"wild boar",value:0},{category:"cattle",value:0},{category:"unused spaces",value:0},{category:"fenced stables",value:0},{category:"clay rooms",value:0},{category:"stone rooms",value:0},{category:"family members",value:0},{category:"bonus points",value:0},{category:"points for cards",value:0},{category:"horses",value:0}]},J=function(e){var a=e.baseGame?W:D;return n.a.createElement("div",{className:"form-player"},n.a.createElement("label",{className:"category-label"},"Name:",n.a.createElement("input",{type:"text",value:e.playerScores.name,onChange:function(a){return e.updateForm({name:a.target.value,scores:e.playerScores.scores})}})),n.a.createElement("div",{className:"category-scores-grid"},a.scores.map((function(a,t){return n.a.createElement("label",{className:"category-label",key:t},a.category[0].toUpperCase().concat(a.category.slice(1)),n.a.createElement("input",{type:"number",value:e.playerScores.scores.find((function(e){return e.category===a.category})).value,className:"category-input",onChange:function(t){return e.updateForm({name:e.playerScores.name,scores:[{category:a.category,value:t.target.value}].concat(Object(g.a)(e.playerScores.scores.filter((function(e){return e.category!==a.category}))))})}}))}))))},I=function(e){var a=Object(r.useState)(),t=Object(l.a)(a,2),c=t[0],o=t[1],s=Object(r.useState)(!1),u=Object(l.a)(s,2),i=u[0],m=u[1];return n.a.createElement("div",{className:"confirm-modal modal"},n.a.createElement("div",null,Object.entries(e.totals).map((function(e){var a=Object(l.a)(e,2),t=a[0],r=a[1];return n.a.createElement("p",{key:t},t," scored ",r)}))),n.a.createElement("input",{type:"text",placeholder:"Password",value:c,onChange:function(e){return o(e.target.value)}}),n.a.createElement("div",{className:"confirm-button-container"},n.a.createElement("button",{onClick:function(){"310191"===c?(m(!1),e.submit()):m(!0)}},"Confirm"),n.a.createElement("button",{onClick:e.cancel},"Cancel")),i&&n.a.createElement("p",{className:"error-message"},"Oops! Wrong Password"))},L=function(e){var a=Object(r.useState)(!1),t=Object(l.a)(a,2),c=t[0],o=t[1],s=c?W:D,u=Object(r.useState)({date:!1}),i=Object(l.a)(u,2),m=i[0],d=i[1],b=Object(r.useState)({0:s,1:s,2:s,3:s,4:s}),p=Object(l.a)(b,2),f=p[0],g=p[1],y=Object(r.useState)(2),v=Object(l.a)(y,2),E=v[0],h=v[1],N=Object(r.useState)(),k=Object(l.a)(N,2),C=k[0],x=k[1],w=Object(r.useState)(),S=Object(l.a)(w,2),G=S[0],P=(S[1],Object(r.useState)()),A=Object(l.a)(P,2),M=(A[0],A[1]),T=Object(r.useState)(!1),L=Object(l.a)(T,2),R=L[0],V=L[1],H=Object(r.useState)(),z=Object(l.a)(H,2),U=z[0],$=z[1],q=function(e){h(e)};return n.a.createElement("div",{className:"agricola-modal modal"},n.a.createElement("button",{onClick:e.hideModal},"CLOSE X"),R&&n.a.createElement(I,{cancel:function(){return V(!1)},submit:function(){return V(!1),void e.hideModal()},totals:U}),n.a.createElement("div",{className:"form-container"},n.a.createElement("div",{className:"form-metadata-container"},n.a.createElement("div",{className:"game-info-container"},n.a.createElement("label",null,"Date:",n.a.createElement("input",{type:"text",onChange:function(e){var a;(a=e.target.value).match(O)&&j(a).getDate()?(d({date:!1}),x(a)):d({date:!0})}})),n.a.createElement("label",null,"Location: ",n.a.createElement("input",{type:"text"}))),m.date&&n.a.createElement("p",{className:"error-message"},"Please enter a date in the format dd/mm/yyyy"),n.a.createElement("div",{className:"player-radio-container"},n.a.createElement("label",null,n.a.createElement("input",{type:"radio",value:"1player",checked:1===E,onChange:function(){return q(1)}}),"1 Player"),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",value:"2player",checked:2===E,onChange:function(){return q(2)}}),"2 Player"),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",value:"3player",checked:3===E,onChange:function(){return q(3)}}),"3 Player"),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",value:"4player",checked:4===E,onChange:function(){return q(4)}}),"4 Player"),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",value:"5player",checked:5===E,onChange:function(){return q(5)}}),"5 Player"))),n.a.createElement("div",{className:"player-radio-container"},n.a.createElement("label",null,n.a.createElement("input",{type:"radio",value:"basegame",checked:!0===c,onChange:function(){return o(!0)}}),"Base Game"),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",value:"moors",checked:!1===c,onChange:function(){return o(!1)}}),"Farmers Of The Moor")),n.a.createElement("div",{className:"score-input-container"},Object.entries(f).map((function(e){var a=Object(l.a)(e,2),t=a[0],r=a[1];return Number(t)<E&&n.a.createElement(J,{key:t,playerScores:r,updateForm:function(e){return function(e,a){console.log("scores",e),g(Object(F.a)(Object(F.a)({},f),{},Object(B.a)({},a,e)))}(e,Number(t))},baseGame:c})})))),n.a.createElement("button",{onClick:function(){return function(){if(void 0===C)d({date:!0});else if(!m.date){Object.entries(f).forEach((function(e){var a=Object(l.a)(e,2),t=a[0],r=a[1];if(Number(t)<E){var n=r.scores.reduce((function(e,a){return e+Number(a.value)}),0);console.log(r.name),$(Object(F.a)(Object(B.a)({},r.name,n),U))}}));var e={players:Object.values(f),location:G,date:C};M(e),V(!0)}}()}},"Submit"))},R=t(60),V=t.n(R),H=function(){return n.a.createElement("div",{className:"page-container"},n.a.createElement("div",{className:"page-header header"},n.a.createElement("div",{className:"image-container"},n.a.createElement("img",{src:V.a}))))},z=function(){var e=Object(r.useState)("Agricola"),a=Object(l.a)(e,2),t=a[0],c=a[1],o=Object(r.useState)(!1),s=Object(l.a)(o,2),u=s[0],i=s[1];return n.a.createElement("div",{className:"App"},n.a.createElement("nav",{className:"navbar"},n.a.createElement("div",null,n.a.createElement("button",{onClick:function(){return c("Agricola")}},"Agricola"),n.a.createElement("button",{onClick:function(){return c("TerraformingMars")}},"Terraforming Mars")),n.a.createElement("button",{onClick:function(){return i(!0)}},"Agricola Scoresheet")),"Agricola"===t&&n.a.createElement(T,null),"TerraformingMars"===t&&n.a.createElement(H,null),u&&n.a.createElement(L,{hideModal:function(){return i(!1)}}))};o.a.render(n.a.createElement(z,null),document.getElementById("root"))},59:function(e,a,t){e.exports=t.p+"static/media/agricolaheader.a09a232b.png"},60:function(e,a,t){e.exports=t.p+"static/media/tmboxheader.7c6f7153.png"},61:function(e,a,t){e.exports=t(183)},66:function(e,a,t){},67:function(e,a,t){}},[[61,1,2]]]);
//# sourceMappingURL=main.89f95d9c.chunk.js.map