(this["webpackJsonpproject-yule"]=this["webpackJsonpproject-yule"]||[]).push([[0],{182:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(54),l=t.n(c),o=(t(65),t(1)),s=(t(66),t(28)),u=t.n(s),i=t(55),m=t(3),d=function(e){var a={labels:Object.keys(e.scores).map((function(e){return"draw"===e?"Draw":"".concat(e," Wins")})),datasets:[{data:Object.values(e.scores),backgroundColor:e.backgroundColor,hoverBackgroundColor:e.backgroundColor,borderColor:"black",borderWidth:1}]},t=Object.values(e.scores).reduce((function(e,a){return e+a})),r=Object.entries(e.scores).map((function(e){var a=Object(o.a)(e,2),r=a[0],n=a[1];return"draw"===r?"".concat(Math.round(n/t*100),"% of games ended in a draw!"):"".concat(r," has won ").concat(Math.round(n/t*100),"% of games")}));return n.a.createElement("div",{className:"pie-grid"},n.a.createElement(m.Doughnut,{data:a,legend:{display:!0,position:"right",fullWidth:!1,reverse:!1,labels:{fontColor:"greysmoke"}}}),n.a.createElement("div",null,r.map((function(e,a){return n.a.createElement("p",{className:"win-stats",key:a},e)}))))},b=t(56),p=t(8),f=function(e){return e.reduce((function(e,a){return a.players.forEach((function(a){var t=a.scores.find((function(e){return"total"===e.category})).value;e[a.name]=e[a.name]?[].concat(Object(p.a)(e[a.name]),[t]):[t]})),e}),{})},g=function(e){var a=e.reduce((function(e,a){return e+a}))/e.length;return Number(a.toFixed(2))},y={pink:"rgb(255, 99, 216)",green:"rgb(30, 187, 108)",yellow:"rgb(255,205,18)",turquoise:"rgb(54, 174, 201)",salmon:"rgb(255, 132, 105)",purple:"rgb(160, 58, 211)",blue:"rgb(30, 119, 239)",orange:"rgb(252, 130, 15)"},v=function(e){return n.a.createElement("div",{className:"pie-container container"},n.a.createElement("header",{className:"header"},"Win Lose Draw!"),n.a.createElement(d,{scores:(a=e.tashVsThom,a.reduce((function(e,a){var t=a.players.map((function(e){return{score:e.scores.find((function(e){return"total"===e.category})).value,player:e.name}})),r=t.map((function(e){return e.score})),n=Math.max.apply(Math,Object(p.a)(r));return r.every((function(e){return e===r[0]}))?e.draw?e.draw+=1:e.draw=1:t.forEach((function(a){a.score===n&&(e[a.player]?e[a.player]+=1:e[a.player]=1)})),e}),{})),backgroundColor:Object.values(y)}));var a},h=function(e){return e.reduce((function(e,a){return a.players.forEach((function(a){!e.includes(a.name)&&e.push(a.name)})),e}),[])},E=/[0-3]\d[\/|\-][0-1]\d[\/|\-][1-2]\d\d\d/,j=function(e){var a=e.split(new RegExp("/|-")),t=Object(o.a)(a,3),r=t[0],n=t[1],c=t[2];return new Date(Number(c),Number(n)-1,Number(r))},O=function(e){var a=Object(r.useState)(e.twoPlayer),t=Object(o.a)(a,2),c=t[0],l=t[1],s=h(c),u=f(c),i=s.map((function(e,a){return{label:e,backgroundColor:Object.values(y)[a],borderColor:"black",borderWidth:.5,hoverBackgroundColor:"rgb(54, 174, 201)",hoverBorderColor:"black",data:u[e]}})),d={labels:c.map((function(e){return j(e.date).toDateString()})),datasets:i,options:{scales:{xAxes:[{type:"time"}]}}};return n.a.createElement("div",{className:"bar-container container"},n.a.createElement("header",{className:"header"},"Final Scores"),n.a.createElement("div",{className:"button-container"},n.a.createElement("button",{className:"agricola-button",onClick:function(){return l(e.twoPlayer)}},"Two Player"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return l(e.multiplayer)}},"Multiplayer"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return l(e.games)}},"All Games")),n.a.createElement(m.Bar,{data:d}))},N=function(e){var a=Object(r.useState)(e.games),t=Object(o.a)(a,2),c=t[0],l=t[1],s=h(c).sort(),u=function(e,a){return e.reduce((function(e,a){return a.players.forEach((function(a){var t,r=Object(b.a)(a.scores);try{for(r.s();!(t=r.n()).done;){var n=t.value;e[a.name][n.category]?e[a.name][n.category].push(n.value):e[a.name][n.category]=[n.value]}}catch(c){r.e(c)}finally{r.f()}})),e}),a)}(c,function(e){return e.reduce((function(e,a){return e[a]={fields:[],pastures:[],grain:[],vegetables:[],sheep:[],"wild boar":[],cattle:[],"unused spaces":[],"fenced stables":[],"clay rooms":[],"stone rooms":[],"family members":[],"points for cards":[],"bonus points":[],horses:[]},e}),{})}(s)),i=s.reduce((function(e,a){return e[a]={},e}),{});for(var d in u)for(var p in u[d])if(u[d][p].length>0){var f=u[d][p].reduce((function(e,a){return e+a}))/u[d][p].length;i[d][p]=f.toFixed(2)}var g=Object.keys(i.Thom),v=s.map((function(e,a){return{label:e,backgroundColor:Object.values(y)[a],borderColor:"black",borderWidth:.5,hoverBackgroundColor:Object.values(y)[a],hoverBorderColor:"black",data:(t=e,Object.entries(i[t]).filter((function(e){var a=Object(o.a)(e,2),t=a[0];return a[1],"total"!==t})).map((function(e){var a=Object(o.a)(e,2);return a[0],a[1]})))};var t})),E={labels:g.filter((function(e){return"total"!==e})),datasets:v};return n.a.createElement("div",{className:"category-container container"},n.a.createElement("header",{className:"header"},"Category Averages"),n.a.createElement("div",{className:"button-container"},n.a.createElement("button",{className:"agricola-button",onClick:function(){return l(e.twoPlayer)}},"Two Player"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return l(e.multiplayer)}},"Multiplayer"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return l(e.games)}},"All Games")),n.a.createElement(m.Bar,{data:E}))},k=function(e){var a={name:"",score:0},t={name:"",score:100},r=0,c=0;for(var l in e.totals){var o=Math.max.apply(Math,Object(p.a)(e.totals[l])),s=Math.min.apply(Math,Object(p.a)(e.totals[l]));o>a.score&&(a.name=l,a.score=o),s<t.score&&(t.name=l,t.score=s),r+=e.totals[l].reduce((function(e,a){return e+a})),c+=e.totals[l].length}var u=r/c;return n.a.createElement("div",{className:"stats-container container"},n.a.createElement("header",{className:"header stats-header"},"Some stats from our Agricola Games"),n.a.createElement("p",null,"Total Games Recorded:",n.a.createElement("span",{className:"stat-text"}," ",e.allGames.length)),n.a.createElement("p",null,"Of those games,",n.a.createElement("span",{className:"stat-text"}," ",e.tashVsThom.length)," were 2 player"),n.a.createElement("p",null,"And ",n.a.createElement("span",{className:"stat-text"}," ",e.multiplayer.length)," were multiplayer."),n.a.createElement("p",null,"The Highest score from all games was",n.a.createElement("span",{className:"stat-text"}," ",a.score)," scored by the indefatigable",n.a.createElement("span",{className:"stat-text"}," ",a.name),"!"),n.a.createElement("p",null,"And the lowest score of all time was",n.a.createElement("span",{className:"stat-text"}," ",t.score)," scored by the unstoppable",n.a.createElement("span",{className:"stat-text"}," ",t.name),"!"),n.a.createElement("p",null,"The average score across all games is as respectable",n.a.createElement("span",{className:"stat-text"}," ",u.toFixed(2))))},C=function(e){var a=Object(r.useState)(e.multiplayer),t=Object(o.a)(a,2),c=t[0],l=t[1],s=function(e){return Object.keys(e).reduce((function(a,t){return a[t]=g(e[t]),a}),{})}(f(c)),u={datasets:[{data:Object.values(s),backgroundColor:Object.values(y),label:"",borderColor:"black",borderWidth:1}],labels:Object.keys(s)};return n.a.createElement("div",{className:"radial-container container"},n.a.createElement("header",{className:"header"},"Average Game Scores"),n.a.createElement("div",{className:"button-container"},n.a.createElement("button",{className:"agricola-button",onClick:function(){return l(e.twoPlayer)}},"Two Player"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return l(e.multiplayer)}},"Mutliplayer"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return l(e.allGames)}},"All Games")),n.a.createElement(m.Polar,{data:u,legend:{display:!0,position:"right",fullWidth:!1,reverse:!1,labels:{fontColor:"greysmoke"}}}))},x=function(e,a){return a.reduce((function(a,t){return t.players.forEach((function(t){var r;a.push({y:t.scores.find((function(a){return a.category===e&&a.value.toFixed})).value,x:(r=t,r.scores.find((function(e){return"total"===e.category})).value)})})),a}),[])},w=function(e){var a=Object(r.useState)("family members"),t=Object(o.a)(a,2),c=t[0],l=t[1],s={responsive:!0,labels:x("family members",e.allGames).sort((function(e,a){return e.x>a.x?1:-1})).map((function(e){return e.y})),tooltips:{mode:"label"},elements:{line:{fill:!1}},scales:{xAxes:[{display:!0,gridLines:{display:!1},labels:x("family members",e.allGames).sort((function(e,a){return e.x>a.x?1:-1})).map((function(e){return e.x}))}],yAxes:[{type:"linear",display:!0,position:"left",id:"y-axis-1",gridLines:{display:!1},labels:{show:!0}},{type:"linear",display:!0,position:"right",id:"y-axis-2",gridLines:{display:!1},labels:{show:!0}}]}},u={datasets:[{label:"Score",type:"line",data:x(c,e.allGames).sort((function(e,a){return e.x>a.x?1:-1})).map((function(e){return e.x})),fill:!1,borderColor:y.salmon,backgroundColor:y.yellow,pointBorderColor:y.salmon,pointBackgroundColor:y.yellow,pointHoverBackgroundColor:y.green,pointHoverBorderColor:y.green,yAxisID:"y-axis-2"},{type:"bar",label:c,data:x(c,e.allGames).sort((function(e,a){return e.x>a.x?1:-1})).map((function(e){return e.y})),fill:!1,backgroundColor:"#ca7eee",borderColor:"black",hoverBackgroundColor:"#71B37C",hoverBorderColor:"#71B37C",yAxisID:"y-axis-1"}]};return n.a.createElement("div",{className:"scatter-container container"},n.a.createElement("header",{className:"header"},"Scattered Relationships"),n.a.createElement(m.Bar,{data:u,options:s}),n.a.createElement("div",{className:"button-container"},n.a.createElement("button",{className:"agricola-button",onClick:function(){return l("family members")}},"Family Members"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return l("bonus points")}},"Bonus Points"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return l("points for cards")}},"Points For Cards"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return l("stone rooms")}},"Stone Hut Rooms"),n.a.createElement("button",{className:"agricola-button",onClick:function(){return l("unused spaces")}},"Unused Spaces")))},S=t(57),P=t.n(S),A=t(58),G=t.n(A),M=function(){var e=Object(r.useState)(),a=Object(o.a)(e,2),t=a[0],c=a[1],l=Object(r.useState)(),s=Object(o.a)(l,2),m=s[0],d=s[1],b=Object(r.useState)(),p=Object(o.a)(b,2),g=p[0],y=p[1],h=Object(r.useState)(),j=Object(o.a)(h,2),x=j[0],S=j[1],A=Object(r.useState)(!0),M=Object(o.a)(A,2),B=M[0],T=M[1];return Object(r.useEffect)((function(){(function(){var e=Object(i.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.next=3,P()("https://api.jsonbin.io/b/5ea01b9b2940c704e1dc9684/latest",{headers:{"secret-key":"$2b$10$tVk".concat("/rIX8TJ15Zm5Oghjz1.0zwMVyQyzIUggpp/cngra1xISpd9N/q")}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){c(e.agricolaGames),d(f(e.agricolaGames)),y(e.agricolaGames.filter((function(e){return 2===e.players.length}))),S(e.agricolaGames.filter((function(e){return e.players.length>2}))),T(!1)}))}),[]),B?n.a.createElement("div",null,"loading"):n.a.createElement("div",{className:"agricola-page-container"},n.a.createElement("div",{className:"page-header header"},n.a.createElement("div",{className:"image-container"},n.a.createElement("img",{src:G.a}))),n.a.createElement(k,{totals:m,tashVsThom:g,multiplayer:x,allGames:t}),n.a.createElement(v,{tashVsThom:g}),n.a.createElement(O,{games:t.filter((function(e){return e.date.match(E)})),twoPlayer:g.filter((function(e){return e.date.match(E)})),multiplayer:x.filter((function(e){return e.date.match(E)}))}),n.a.createElement(N,{games:t,twoPlayer:g,multiplayer:x}),n.a.createElement(C,{multiplayer:x,twoPlayer:g,allGames:t}),n.a.createElement(w,{allGames:t}))},B={name:"",scores:[{category:"fields",value:0},{category:"pastures",value:0},{category:"grain",value:0},{category:"vegetables",value:0},{category:"sheep",value:0},{category:"wild boar",value:0},{category:"cattle",value:0},{category:"unused spaces",value:0},{category:"fenced stables",value:0},{category:"clay rooms",value:0},{category:"stone rooms",value:0},{category:"family members",value:0},{category:"bonus points",value:0},{category:"points for cards",value:0},{category:"horses",value:0}]},T=t(18),F=t(59),D=function(e){return n.a.createElement("div",{className:"form-player"},n.a.createElement("label",{className:"category-label"},"Name:",n.a.createElement("input",{type:"text",value:e.playerScores.name,onChange:function(a){return e.updateForm({name:a.target.value,scores:e.playerScores.scores})}})),n.a.createElement("div",{className:"category-scores-grid"},B.scores.map((function(a){return n.a.createElement("label",{className:"category-label"},a.category[0].toUpperCase().concat(a.category.slice(1)),n.a.createElement("input",{type:"number",value:e.playerScores[a.category],className:"category-input",onChange:function(t){return e.updateForm({name:e.playerScores.name,scores:Object(F.a)(Object(T.a)({},a.category,t.target.value),e.playerScores.scores)})}}))}))))},W=function(e){var a=Object(r.useState)({date:!1}),t=Object(o.a)(a,2),c=t[0],l=t[1],s=Object(r.useState)(B),u=Object(o.a)(s,2),i=u[0],m=u[1],d=Object(r.useState)(B),b=Object(o.a)(d,2),p=b[0],f=b[1],g=Object(r.useState)(B),y=Object(o.a)(g,2),v=y[0],h=y[1],O=Object(r.useState)(B),N=Object(o.a)(O,2),k=N[0],C=N[1],x=Object(r.useState)(B),w=Object(o.a)(x,2),S=w[0],P=w[1],A=Object(r.useState)(2),G=Object(o.a)(A,2),M=G[0],T=G[1],F=Object(r.useState)([i,p]),W=Object(o.a)(F,2),I=W[0],L=W[1],V=[i,p,v,k,S],H=function(e){T(e),L(V.slice(0,e))};return n.a.createElement("div",{className:"agricola-modal modal"},n.a.createElement("button",{onClick:e.hideModal},"CLOSE X"),n.a.createElement("div",{className:"form-container"},n.a.createElement("div",{className:"form-metadata-container"},n.a.createElement("div",{className:"game-info-container"},n.a.createElement("label",null,"Date:"," ",n.a.createElement("input",{type:"text",onChange:function(e){var a;(a=e.target.value).match(E)&&j(a).getDate()?l({date:!1}):l({date:!0})}})),n.a.createElement("label",null,"Location: ",n.a.createElement("input",{type:"text"}))),c.date&&n.a.createElement("p",{className:"error-message"},"Please enter a date in the format dd/mm/yyyy"),n.a.createElement("div",{className:"player-radio-container"},n.a.createElement("label",null,n.a.createElement("input",{type:"radio",value:"1player",checked:1===M,onChange:function(){return H(1)}}),"1 Player"),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",value:"2player",checked:2===M,onChange:function(){return H(2)}}),"2 Player"),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",value:"3player",checked:3===M,onChange:function(){return H(3)}}),"3 Player"),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",value:"4player",checked:4===M,onChange:function(){return H(4)}}),"4 Player"),n.a.createElement("label",null,n.a.createElement("input",{type:"radio",value:"5player",checked:5===M,onChange:function(){return H(5)}}),"5 Player"))),n.a.createElement("div",{className:"score-input-container"},I.map((function(e,a){return n.a.createElement(D,{playerScores:e,updateForm:function(e){return function(e,a){switch(a){case 1:m(e);break;case 2:f(e);break;case 3:h(e);break;case 4:C(e);break;case 5:P(e)}}(e,a+1)}})})))),n.a.createElement("button",null,"Submit"))},I=function(){return n.a.createElement("div",null,"TerraformingMarsPage")},L=function(){var e=Object(r.useState)("Agricola"),a=Object(o.a)(e,2),t=a[0],c=a[1],l=Object(r.useState)(!1),s=Object(o.a)(l,2),u=s[0],i=s[1];return n.a.createElement("div",{className:"App"},n.a.createElement("nav",{className:"navbar"},n.a.createElement("div",null,n.a.createElement("button",{onClick:function(){return c("Agricola")}},"Agricola"),n.a.createElement("button",{onClick:function(){return c("TerraformingMars")}},"Terraforming Mars")),n.a.createElement("button",{onClick:function(){return i(!0)}},"Agricola Scoresheet")),"Agricola"===t&&n.a.createElement(M,null),"TerraformingMars"===t&&n.a.createElement(I,null),u&&n.a.createElement(W,{hideModal:function(){return i(!1)}}))};l.a.render(n.a.createElement(L,null),document.getElementById("root"))},58:function(e,a,t){e.exports=t.p+"static/media/agricolaheader.a09a232b.png"},60:function(e,a,t){e.exports=t(182)},65:function(e,a,t){},66:function(e,a,t){}},[[60,1,2]]]);
//# sourceMappingURL=main.2d9c2af9.chunk.js.map